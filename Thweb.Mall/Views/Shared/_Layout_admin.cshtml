@using Microsoft.AspNetCore.Identity
@inject SignInManager<ThwebUser> SignInManager
@inject UserManager<ThwebUser> UserManager
@{
    var user = await UserManager.GetUserAsync(User);
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Thweb.Mall</title>
    <link rel="stylesheet" href="~/css/common.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/app.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/Thweb.Mall.styles.css" asp-append-version="true" />
</head>
<body class="flex items-center justify-between flex-col">
    <header class="w-full bg-gray-800">
        <div class="flex w-full">
            <div class="w-2/4 md:w-1/4 flex items-center mx-4">
                <h1 class="text-lg font-bold text-white">Thweb 관리자 페이지</h1>
            </div>
            <div class="w-2/4 hidden md:block">
                <nav class=" flex items-center gap-4 flex justify-around p-3 ">
                    <a class="hover:underline text-white" asp-controller="User" asp-action="Index">
                        회원관리
                    </a>
                    <a class="hover:underline text-white" asp-controller="Category" asp-action="Index">
                        카테고리 관리
                    </a>
                    <a class="hover:underline text-white" asp-controller="Product" asp-action="Index">
                        상품관리 
                    </a>
                    <a class="hover:underline text-white" asp-controller="User" asp-action="Index">
                        주문관리
                    </a>
                </nav>
            </div>
            @if (SignInManager.IsSignedIn(User))
            {
                <form id="logoutForm" class="hidden md:flex w-1/4 justify-end items-center mx-4" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
                    <button id="logout" type="submit" class="text-white">Logout</button>
                </form>
            }
            else
            {
                <div class="hidden md:flex w-1/4 justify-end items-center mx-4">
                    <a asp-area="Identity" asp-page="/Account/Register" class="text-white mx-4">회원가입</a>
                    <a asp-area="Identity" asp-page="/Account/Login" class="text-white">로그인</a>
                </div>

            }
            

            <div class="flex md:hidden w-2/4 justify-end items-end">
                <svg onclick="m_menu_open()"
                     xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-white">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                </svg>
            </div>
        </div>

        <div id="m_menu" class="transform -translate-x-full transition-transform duration-500 ease-in-out fixed w-full  h-full bg-gray-800 overflow-auto flex-1 p-6 z-50  ">
            <ul class="space-y-4 px-1">
                <li class="bg-wh-800">
                    <a class="hover:underline text-white" href="#">
                        Home
                    </a>
                </li>

                <li>
                    <a class="hover:underline text-white" href="#">
                        Shop
                    </a>
                </li>

                <li>
                    <a class="hover:underline text-white" href="#">
                        About
                    </a>
                </li>

                <li>
                    <a class="hover:underline text-white" href="#">
                        Contact
                    </a>
                </li>
            </ul>
        </div>
    </header>



   
    <div class="flex items-center justify-center flex-col w-full">
            @RenderBody()
    </div>
   


    <footer class="bg-gray-800 text-white py-4 px-4 w-full">
        <div class="container mx-auto text-center ">
            <p>© 2024 Dragon Bookstore. All rights reserved.</p>
        </div>
    </footer>
    
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="~/js/common.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
